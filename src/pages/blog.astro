---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Showcase from "../components/Showcase.astro";

const response = await fetch(
  "https://jsonplaceholder.typicode.com/posts?_limit=10"
);
const posts = await response.json();
---

<Layout title="Astro Blog">
  <Showcase heading="Astro Blog" text="A simple blog built with Astro" />

  <section class="page-content">
    <div class="container">
      {
        posts.map((post) => (
          <Card>
            <h2>{post.title}</h2>
            <p>{post.body}</p>
            <a href={`/posts/${post.id}`} class="btn">Read More</a>
          </Card>
        ))
      }
    </div>
  </section>
</Layout>
